function classOnScroll(selector, className, scrollDistance) { var newClassOnScroll = new classOnScrollObject(selector, className, scrollDistance); newClassOnScroll.applyClass(), newClassOnScroll.scrollContainer.scroll(function () { newClassOnScroll.applyClass() }) } jQuery(document).ready(function () { var bodyVar = $("body"), searchAll = $(".search-all"); $(".user, .close").click(function (e) { e.stopPropagation(), bodyVar.toggleClass("quickmenu") }), $(".wrapper").on("click", function () { bodyVar.removeClass("quickmenu") }), $(".search-input").focus(function () { searchAll.addClass("open") }), $(".search-all-close").on("click", function () { searchAll.removeClass("open") }), $("#toggle").click(function (e) { e.preventDefault(), $(".cross").toggleClass("open"), $("nav").toggleClass("open") }); var body = $("body"), getLink = $(".getLink"), deepLinking = !1, thankyou = document.getElementById("thankyou"); $(".copy-link, .overlay").click(function (e) { e.preventDefault(), deepLinking === !1 ? (body.addClass("active"), getLink.val(window.location.hostname + window.location.pathname + "#comment-" + $(this).attr("data-id")), getLink.focus(), getLink.select(), deepLinking = !0) : (body.removeClass("active"), deepLinking = !1) }), $(window).keydown(function (e) { (e.metaKey || e.ctrlKey) && 67 === e.keyCode && (body.removeClass("active"), thankyou.style.opacity = 1, thankyou.style.top = "10%", setTimeout(function () { thankyou.style.opacity = 0, setTimeout(function () { thankyou.style.top = "50%" }, 600) }, 600), deepLinking = !1) }); var map, centerPos = new google.maps.LatLng(51.512161, -.088721), style = [[{ featureType: "landscape", elementType: "labels", stylers: [{ visibility: "off" }] }, { featureType: "transit", elementType: "labels", stylers: [{ visibility: "off" }] }, { featureType: "poi", elementType: "labels", stylers: [{ visibility: "off" }] }, { featureType: "water", elementType: "labels", stylers: [{ visibility: "off" }] }, { featureType: "road", elementType: "labels.icon", stylers: [{ visibility: "off" }] }, { stylers: [{ hue: "#00aaff" }, { saturation: -100 }, { gamma: 2.15 }, { lightness: 12 }] }, { featureType: "road", elementType: "labels.text.fill", stylers: [{ visibility: "on" }, { lightness: 24 }] }, { featureType: "road", elementType: "geometry", stylers: [{ lightness: 57 }] }], [{ featureType: "water", elementType: "geometry", stylers: [{ color: "#000000" }, { lightness: 17 }] }, { featureType: "landscape", elementType: "geometry", stylers: [{ color: "#000000" }, { lightness: 20 }] }, { featureType: "road.highway", elementType: "geometry.fill", stylers: [{ color: "#000000" }, { lightness: 17 }] }, { featureType: "road.highway", elementType: "geometry.stroke", stylers: [{ color: "#000000" }, { lightness: 29 }, { weight: .2 }] }, { featureType: "road.arterial", elementType: "geometry", stylers: [{ color: "#000000" }, { lightness: 18 }] }, { featureType: "road.local", elementType: "geometry", stylers: [{ color: "#000000" }, { lightness: 16 }] }, { featureType: "poi", elementType: "geometry", stylers: [{ color: "#000000" }, { lightness: 21 }] }, { elementType: "labels.text.stroke", stylers: [{ visibility: "on" }, { color: "#000000" }, { lightness: 16 }] }, { elementType: "labels.text.fill", stylers: [{ saturation: 36 }, { color: "#000000" }, { lightness: 30 }] }, { elementType: "labels.icon", stylers: [{ visibility: "off" }] }, { featureType: "transit", elementType: "geometry", stylers: [{ color: "#000000" }, { lightness: 19 }] }, { featureType: "administrative", elementType: "geometry.fill", stylers: [{ color: "#000000" }, { lightness: 20 }] }, { featureType: "administrative", elementType: "geometry.stroke", stylers: [{ color: "#000000" }, { lightness: 17 }, { weight: 1.2 }] }]], mapStyle = $("#map").attr("data-mapStyle"), options = { center: centerPos, zoom: 11, zoomControl: !0, zoomControlOptions: { style: google.maps.ZoomControlStyle.SMALL }, disableDoubleClickZoom: !0, mapTypeControl: !1, scaleControl: !1, scrollwheel: !1, panControl: !1, streetViewControl: !1, draggable: !0, overviewMapControl: !1, overviewMapControlOptions: { opened: !1 }, mapTypeId: google.maps.MapTypeId.ROADMAP }; map = new google.maps.Map($("#map")[0], options), map.setOptions({ styles: style[mapStyle] }) }); var classOnScrollObject = function (selector, className, scrollDistance) { this.item = $(selector), this.itemClass = className, this.scrollDistance = scrollDistance, this.classApplied = !1, this.scrollContainer = $(window), this.fromTop = this.scrollContainer.scrollTop() }; classOnScrollObject.prototype.applyClass = function () { this.fromTop = this.scrollContainer.scrollTop(), this.fromTop > this.scrollDistance && this.classApplied === !1 ? (this.classApplied = !0, this.item.addClass(this.itemClass)) : this.fromTop < this.scrollDistance && this.classApplied === !0 && (this.classApplied = !1, this.item.removeClass(this.itemClass)) };